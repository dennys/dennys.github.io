<rss xmlns:atom="http://www.w3.org/2005/Atom" version="2.0">
    <channel>
        <title>Magisk - Tag - Dennys Diary</title>
        <link>https://dennys.github.io/tags/magisk/</link>
        <description>Magisk - Tag - Dennys Diary</description>
        <generator>Hugo -- gohugo.io</generator><language>en</language><copyright>This work is licensed under a Creative Commons Attribution-NonCommercial 4.0 International License.</copyright><lastBuildDate>Wed, 16 Mar 2022 18:00:00 &#43;0800</lastBuildDate><atom:link href="https://dennys.github.io/tags/magisk/" rel="self" type="application/rss+xml" /><item>
    <title>Google Pixel 5 Unlock / Root / Magisk</title>
    <link>https://dennys.github.io/2022/03/google-pixel-5-unlock-root-magisk.html</link>
    <pubDate>Wed, 16 Mar 2022 18:00:00 &#43;0800</pubDate>
    <author>Dennys</author>
    <guid>https://dennys.github.io/2022/03/google-pixel-5-unlock-root-magisk.html</guid>
    <description><![CDATA[<p> <strong>注意: 系統刷機有一定的風險, 可能導致手機無法開機和失去保固, 資料還會被清空, 執行前請先三思!!!</strong></p>
<p><strong>注意: 系統刷機有一定的風險, 可能導致手機無法開機和失去保固, 資料還會被清空, 執行前請先三思!!!</strong></p>
<p><strong>注意: 系統刷機有一定的風險, 可能導致手機無法開機和失去保固, 資料還會被清空, 執行前請先三思!!!</strong></p>
<p>===================================================</p>
<h2 id="安裝-google-usb-driver">安裝 Google USB driver</h2>
<ol>
<li>首先要在電腦上安裝 Google USB driver, 可在這裡下載<a href="https://developer.android.com/studio/run/win-usb" target="_blank" rel="noopener noreffer">https://developer.android.com/studio/run/win-usb</a></li>
</ol>
<p>2. 解開壓縮檔 (應該是 usb_driver_r13-windows.zip), 在 android_winusb.inf 按右鍵, 然後一直往下就好了</p>
<p><a href="https://dennys.files.wordpress.com/2022/02/image-11.png" target="_blank" rel="noopener noreffer"></a></p>
<p>ps: 沒有裝 driver 的話, 在執行 fastboot 的時候, 就會遇到 waiting for any device 的訊息</p>
<p><a href="https://dennys.files.wordpress.com/2022/02/image-12.png" target="_blank" rel="noopener noreffer"></a></p>
<p>===================================================</p>
<h2 id="安裝-android-sdk-platform-tools">安裝 Android SDK Platform Tools</h2>
<p>從這裡下載, 一直 next next 就好.</p>
<p><a href="https://developer.android.com/studio/releases/platform-tools#downloads" target="_blank" rel="noopener noreffer">https://developer.android.com/studio/releases/platform-tools#downloads</a></p>
<p>===================================================</p>
<h2 id="手機解鎖-unlock">手機解鎖 Unlock</h2>
<p><strong>請記得先備份資料, 因為解鎖會清空資料</strong></p>
<p><strong>請記得先備份資料, 因為解鎖會清空資料</strong></p>
<p><strong>請記得先備份資料, 因為解鎖會清空資料</strong></p>
<p>1. 手機進入開發者模式並確定 adb devices 可以連上手機</p>
<p><a href="https://dennys.files.wordpress.com/2022/01/auth.jpg" target="_blank" rel="noopener noreffer"></a></p>
<p>2. Enable OEM 解鎖</p>
<p><a href="https://dennys.files.wordpress.com/2022/01/image-13.png" target="_blank" rel="noopener noreffer"></a></p>
<p>3. 執行下列指令, 手機會出現要你確認是否要 unlock, 按下去, 手機就解鎖了. <strong>注意: 這裡會把手機資料清空</strong></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">adb reboot bootloader  
</span></span><span class="line"><span class="cl">fastboot flashing unlock
</span></span></code></pre></td></tr></table>
</div>
</div><p><a href="https://dennys.files.wordpress.com/2022/01/image-12.png" target="_blank" rel="noopener noreffer"></a></p>
<p>=============== 以上完成 Unlock, 以下為 Root 的步驟 ===============</p>
<h2 id="手機-root">手機 Root</h2>
<p>1. 用手機下載並安裝 Magisk (<a href="https://github.com/topjohnwu/magisk" target="_blank" rel="noopener noreffer">https://github.com/topjohnwu/magisk</a>_files/blob/canary/app-debug.apk)</p>
<p>2.1 檢查手機版本 (設定 -&gt; 關於, 然後拉到最下面), 譬如我這支是 SQ1A.220105.002</p>
<p><a href="https://dennys.files.wordpress.com/2022/02/image-2.png" target="_blank" rel="noopener noreffer"></a></p>
<p>2.2 用電腦連到 <a href="https://developers.google.com/android/images" target="_blank" rel="noopener noreffer">https://developers.google.com/android/images</a>, 下載對應的 boot image (按 Link)</p>
<p><a href="https://dennys.files.wordpress.com/2022/01/image-17.png" target="_blank" rel="noopener noreffer"></a></p>
<p>2.3 解開裡面的 vbmega.img 和 boot.img.</p>
<p><a href="https://dennys.files.wordpress.com/2022/01/image-16.png" target="_blank" rel="noopener noreffer"></a></p>
<p>3. 將前一步驟解出來的 boot.img 放到手機上, 然後使用 Magisk 對 boot.img 做 patch, 並把 patch 完後的檔案傳回電腦</p>
<p><a href="https://dennys.files.wordpress.com/2022/02/image.png" target="_blank" rel="noopener noreffer"></a></p>
<p><a href="https://dennys.files.wordpress.com/2022/02/image-1.png" target="_blank" rel="noopener noreffer"></a></p>
<p>4. 將手機重開, 並同時按下 電源+音量下鍵進入 bootloader 模式</p>
<p>5.1 用 fastboot 刷 vbmega.img, 不然刷完後重開機, 手機會出現 failed to load/verify boot images (應該是 Pixel 4A 5G 以後的都需要這個)</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">fastboot flash --disable-verity --disable-verification vbmeta vbmeta.img
</span></span></code></pre></td></tr></table>
</div>
</div><p><a href="https://dennys.files.wordpress.com/2022/01/image-15.png" target="_blank" rel="noopener noreffer"></a></p>
<p>5.2 用 fastboot 刷剛剛用 Magisk 給 patch 過的 image. 注意, 這裡用的是 fastboot boot, 不是 fastboot flash. 刷完以後會自動重開機.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">fastboot boot magisk_patched.img
</span></span></code></pre></td></tr></table>
</div>
</div><p><a href="https://dennys.files.wordpress.com/2022/01/image-14.png" target="_blank" rel="noopener noreffer"></a></p>
<h2 id="magisk">Magisk</h2>
<p>6. 使用 Magisk 檢查是否 Root</p>
<p>若你的 Masgisk 長這樣</p>
<p><a href="https://dennys.files.wordpress.com/2022/02/image-6.png" target="_blank" rel="noopener noreffer"></a></p>
<p>然後執行時出現這個畫面, 這時候按確定, 他應該會去嘗試下載, 然後最後說剖析套件時發生問題.</p>
<p><a href="https://dennys.files.wordpress.com/2022/02/image-7.png" target="_blank" rel="noopener noreffer"></a></p>
<p>還是得裝前面講的版本 (<a href="https://github.com/topjohnwu/magisk" target="_blank" rel="noopener noreffer">https://github.com/topjohnwu/magisk</a>_files/blob/canary/app-debug.apk), 執行後看到下面畫面, 就是 Root 成功了.</p>
<p><a href="https://dennys.files.wordpress.com/2022/02/image-3.png" target="_blank" rel="noopener noreffer"></a></p>
<p>7. Root 之後可再刷第三方 ROM, Pixel5 有一堆可刷, 可參考 <a href="https://forum.xda-developers.com/f/11343/" target="_blank" rel="noopener noreffer">https://forum.xda-developers.com/f/11343/</a>. 比較意外的是, 本來以為最多人用的是 <a href="https://www.google.com/search?q=LineageOS" target="_blank" rel="noopener noreffer">LineageOS</a>, 不過看來 <a href="https://www.google.com/search?q=ProtonASOP" target="_blank" rel="noopener noreffer">ProtonASOP</a> 受到的關注更多 (以 XDA 上面的 views/replies 數量來看). 還有 <a href="https://forum.xda-developers.com/t/4192641/" target="_blank" rel="noopener noreffer">CleanSlate</a> 在沒有 Root 的情況下也可以使用, 這個值得研究一下.</p>
<p><a href="https://dennys.files.wordpress.com/2022/02/image-9.png" target="_blank" rel="noopener noreffer"></a></p>
<p>參考:</p>
<ul>
<li><a href="https://www.mobile01.com/topicdetail.php?f=565&amp;t=6233575" target="_blank" rel="noopener noreffer">https://www.mobile01.com/topicdetail.php?f=565&t=6233575</a> (這篇是 Pixel 4XL, 所以不需要 vbmega.img)</li>
<li><a href="https://www.droidwin.com/how-to-root-pixel-devices-via-magisk-on-android-12/" target="_blank" rel="noopener noreffer">https://www.droidwin.com/how-to-root-pixel-devices-via-magisk-on-android-12/</a></li>
<li><a href="https://android.gadgethacks.com/how-to/root-pixel-5-still-pass-safetynet-full-guide-for-beginners-intermediate-users-0348101/" target="_blank" rel="noopener noreffer">https://android.gadgethacks.com/how-to/root-pixel-5-still-pass-safetynet-full-guide-for-beginners-intermediate-users-0348101/</a></li>
</ul>
]]></description>
</item>
<item>
    <title>HTC U Ultra 刷機</title>
    <link>https://dennys.github.io/2020/01/htc-u-ultra.html</link>
    <pubDate>Thu, 30 Jan 2020 08:04:00 &#43;0800</pubDate>
    <author>Dennys</author>
    <guid>https://dennys.github.io/2020/01/htc-u-ultra.html</guid>
    <description><![CDATA[<p>HTC U Ultra</p>
<p>HTC U Ultra 是 2017 年初的手機, 可更新到 Android 8 (security patch 到 2018/3/1)</p>
<p>Root</p>
<ol>
<li>
<p>htc 官方解鎖 <a href="http://www.rayzen-dev.com/htc-unlocked-download/" target="_blank" rel="noopener noreffer">http://www.rayzen-dev.com/htc-unlocked-download/</a></p>
</li>
<li>
<p>安裝 htc driver <a href="https://drive.google.com/open?id=1sgIbTgW9PKXb9PKQ_PSzJxHkwc5tMV6Z" target="_blank" rel="noopener noreffer">https://drive.google.com/open?id=1sgIbTgW9PKXb9PKQ_PSzJxHkwc5tMV6Z</a></p>
</li>
<li>
<p>TWRP</p>
</li>
<li>
<p>參考以下兩篇</p>
</li>
</ol>
<ul>
<li>
<p><a href="https://www.ptt.cc/bbs/MobileComm/M.1521510168.A.45F.html" target="_blank" rel="noopener noreffer">https://www.ptt.cc/bbs/MobileComm/M.1521510168.A.45F.html</a></p>
</li>
<li>
<p><a href="http://www.rayzen-dev.com/root-htc-ultra/" target="_blank" rel="noopener noreffer">http://www.rayzen-dev.com/root-htc-ultra/</a></p>
</li>
</ul>
<p>Magisk</p>
<p>參考: <a href="https://izaka.tw/android-magisk-installation-guide/" target="_blank" rel="noopener noreffer">https://izaka.tw/android-magisk-installation-guide/</a></p>
<ol>
<li>
<p>用手機從這裡下載 Magisk-v20.3.zip <a href="https://forum.xda-developers.com/apps/magisk/official-magisk-v7-universal-systemless-t3473445" target="_blank" rel="noopener noreffer">https://forum.xda-developers.com/apps/magisk/official-magisk-v7-universal-systemless-t3473445</a></p>
</li>
<li>
<p>重開進入 TWRP (指令: adb wait-for-device reboot recovery)</p>
</li>
<li>
<p>選擇 INSTALL, 路徑選擇 /sdcard/Download</p>
</li>
<li>
<p>選擇檔案後, 執行螢幕最下面的 Swipe to confirm Flash</p>
</li>
<li>
<p>重開系統</p>
</li>
</ol>
<p>Magisk Module</p>
<ul>
<li>YouTube Vanced</li>
</ul>
<ol>
<li>
<p>如果有更新過 YouTube, 需要進 Google Play 把更新移除, 這樣才會看到 YouTube Vanced</p>
</li>
<li>
<p>要把 Google Play 的自動更新關閉</p>
</li>
</ol>
<ul>
<li></li>
</ul>
<p>LineageOS</p>
<p>官網</p>
<ul>
<li>
<p>LineageOS 16: <a href="https://forum.xda-developers.com/u-ultra/development/rom-lineageos-16-0-t3856221" target="_blank" rel="noopener noreffer">https://forum.xda-developers.com/u-ultra/development/rom-lineageos-16-0-t3856221</a></p>
</li>
<li>
<p>LineageOS 17: <a href="https://forum.xda-developers.com/u-ultra/development/rom-lineageos-17-0-t3970921" target="_blank" rel="noopener noreffer">https://forum.xda-developers.com/u-ultra/development/rom-lineageos-17-0-t3970921</a></p>
</li>
</ul>
]]></description>
</item>
</channel>
</rss>
