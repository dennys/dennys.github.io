<rss xmlns:atom="http://www.w3.org/2005/Atom" version="2.0">
    <channel>
        <title>YouTube - Tag - Dennys Diary</title>
        <link>https://dennys.github.io/tags/youtube/</link>
        <description>YouTube - Tag - Dennys Diary</description>
        <generator>Hugo -- gohugo.io</generator><language>en</language><copyright>This work is licensed under a Creative Commons Attribution-NonCommercial 4.0 International License.</copyright><lastBuildDate>Thu, 02 Jun 2022 10:18:32 &#43;0800</lastBuildDate><atom:link href="https://dennys.github.io/tags/youtube/" rel="self" type="application/rss+xml" /><item>
    <title>如何下載 YouTube 私人影片 (使用 youtube-dl 或 ytl-dp)</title>
    <link>https://dennys.github.io/202206/download-youtube-private-video/</link>
    <pubDate>Thu, 02 Jun 2022 10:18:32 &#43;0800</pubDate>
    <author>Dennys</author>
    <guid>https://dennys.github.io/202206/download-youtube-private-video/</guid>
    <description><![CDATA[<h2 id="需求">需求</h2>
<p>YouTube 預設是不能讓人下載影片的, 即使是你自己上傳的影片也是一樣. 然後我的影片大多都設成私人, 就更沒辦法用一堆線上工具下載了. 研究了一下兩年前曾被 GitHub 下架的 youtube-dl, 看來他支援下載私人影片 (不需要帳號密碼, 用 cookie).</p>
<h2 id="工具準備">工具準備</h2>
<h3 id="需要以下幾樣工具">需要以下幾樣工具</h3>
<ol>
<li><a href="https://github.com/ytdl-org/youtube-dl" target="_blank" rel="noopener noreffer">youtube-dl</a> 或是 <a href="https://github.com/yt-dlp/yt-dlp" target="_blank" rel="noopener noreffer">ytl-dp</a></li>
<li>cookie 工具, 我是用 <a href="https://chrome.google.com/webstore/detail/get-cookiestxt/bgaddhkoddajcdgocldbbfleckgcbcid" target="_blank" rel="noopener noreffer">Get cookies.txt</a> 這個 Chrome extension</li>
<li><a href="https://www.ffmpeg.org/download.html" target="_blank" rel="noopener noreffer">FFmpeg</a>, 轉檔用</li>
</ol>
<h2>1. 準備 cookie</h2>
<p>既然這是私人影片, 就會卡權限, 因此要準備 cookie. (注意: 這個套件不會去抓無痕模式的 cookie). 安裝好後, 連上 youtube.com, 然後 export 檔案出來就好. 預設他取的名字會是 youtube.com_cookies.txt, 這邊就不修改檔案名稱.</p>
<p><a href="https://dennys.files.wordpress.com/2022/05/image-14.png"></a></p>
<h2>2. 使用 youtube-dl 下載</h2>
<p>使用如下指令就可以下載檔案了</p>
<pre class="wp-block-code"><code>youtube-dl.exe --format bestvideo+bestaudio --limit-rate 2M --cookies=youtube.com_cookies.txt https://www.youtube.com/watch?v=********/</code></pre>
<p>要注意的是, 如果沒有 FFmpeg, youtube-dl 就不會合併檔案, 最後就會有一個影片(mp4), 一個聲音 (m4a), 得要再另外 merge, 很麻煩, 如下圖.</p>
<p><a href="https://dennys.files.wordpress.com/2022/05/image-12.png"></a></p>
<p>因此, 直接在下載參數指定 FFmpeg 的目錄位置, 這樣在下載完後, 他就會去呼叫 FFmpeg 執行合併檔案的動作.</p>
<pre class="wp-block-code"><code>youtube-dl.exe <mark style="background-color:rgba(0, 0, 0, 0);" class="has-inline-color has-vivid-red-color">--ffmpeg-location C:\bin\ffmpeg\bin</mark> --format bestvideo+bestaudio --limit-rate 2M --cookies=youtube.com_cookies.txt https://www.youtube.com/watch?v=********/</code></pre>
<p>如下, 他會把 mp4/m4a 合併成一個 mp4 檔案, 然後把原來的檔案刪除.</p>
<p><a href="https://dennys.files.wordpress.com/2022/05/image-11.png"></a></p>
<h2>3. 使用 youtube-dl 下載</h2>
<p><a href="https://github.com/yt-dlp/yt-dlp" target="_blank" rel="noopener noreffer">YT-DLP</a> 是 youtube-dl 的一個 fork, 他自己的官方說明是 &ldquo;A youtube-dl fork with additional features and fixes&rdquo;, 兩者的指令也都差不多, 試用了一下也沒甚麼問題, 只是下載完是 .mkv</p>
<p><a href="https://dennys.files.wordpress.com/2022/05/image-13.png"></a></p>
]]></description>
</item>
</channel>
</rss>
